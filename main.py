import time
from pip._internal.cli.main import main

# todo —É–±—Ä–∞—Ç—å –∫–æ–≥–¥–∞-—Ç–æ
while True:
    try:
        import lxml

        break
    except ModuleNotFoundError:
        main(["install", "-U", "lxml>=5.3.0"])
while True:
    try:
        import bcrypt

        break
    except ModuleNotFoundError:
        main(["install", "-U", "bcrypt>=4.2.0"])
import Utils.cardinal_tools
import Utils.config_loader as cfg_loader
from first_setup import first_setup
from colorama import Fore, Style
from Utils.logger import LOGGER_CONFIG
import logging.config
import colorama
import sys
import os
from cardinal import Cardinal
import Utils.exceptions as excs
from locales.localizer import Localizer

logo = """                  [38;2;19;121;18m‚ñà[38;2;39;240;35m‚ñà[38;2;38;233;35m‚ñà[38;2;18;108;16m‚ñà                  [0m
                [38;2;13;80;12m‚ñà[38;2;33;199;30m‚ñà[38;2;42;255;37m‚ñà[38;2;42;255;38m‚ñà[38;2;42;255;38m‚ñà[38;2;42;254;38m‚ñà[38;2;32;190;28m‚ñà[38;2;11;69;11m‚ñà                [0m
              [38;2;8;53;8m‚ñà[38;2;29;174;26m‚ñà[38;2;42;254;38m‚ñà[38;2;43;255;39m‚ñà[38;2;43;255;39m‚ñà[38;2;38;233;34m‚ñà[38;2;40;241;35m‚ñà[38;2;43;255;38m‚ñà[38;2;43;255;38m‚ñà[38;2;41;251;37m‚ñà[38;2;27;164;24m‚ñà[38;2;8;46;7m‚ñà              [0m
            [38;2;5;30;4m‚ñà[38;2;23;142;21m‚ñà[38;2;39;241;37m‚ñà[38;2;43;255;40m‚ñà[38;2;42;255;39m‚ñà[38;2;40;247;37m‚ñà[38;2;25;154;23m‚ñà[38;2;6;37;5m‚ñà[38;2;9;55;8m‚ñà[38;2;30;177;26m‚ñà[38;2;41;254;38m‚ñà[38;2;42;255;39m‚ñà[38;2;44;255;39m‚ñà[38;2;39;235;35m‚ñà[38;2;22;131;20m‚ñà[38;2;4;24;4m‚ñà            [0m
           [38;2;19;108;16m‚ñà[38;2;37;222;33m‚ñà[38;2;43;255;39m‚ñà[38;2;43;255;39m‚ñà[38;2;42;255;39m‚ñà[38;2;31;188;28m‚ñà[38;2;10;65;9m‚ñà    [38;2;13;81;12m‚ñà[38;2;34;201;30m‚ñà[38;2;43;255;38m‚ñà[38;2;43;255;38m‚ñà[38;2;43;255;39m‚ñà[38;2;35;214;33m‚ñà[38;2;16;98;15m‚ñà           [0m
         [38;2;13;74;12m‚ñà[38;2;33;198;30m‚ñà[38;2;42;255;39m‚ñà[38;2;43;255;39m‚ñà[38;2;43;255;39m‚ñà[38;2;36;215;32m‚ñà[38;2;16;96;14m‚ñà        [38;2;19;112;17m‚ñà[38;2;37;224;34m‚ñà[38;2;43;255;38m‚ñà[38;2;43;255;38m‚ñà[38;2;43;255;39m‚ñà[38;2;31;188;28m‚ñà[38;2;11;66;10m‚ñà         [0m
       [38;2;8;47;7m‚ñà[38;2;28;168;25m‚ñà[38;2;42;252;38m‚ñà[38;2;43;255;39m‚ñà[38;2;43;255;40m‚ñà[38;2;40;236;35m‚ñà[38;2;22;133;20m‚ñà[38;2;4;24;4m‚ñà          [38;2;5;31;5m‚ñà[38;2;24;143;21m‚ñà[38;2;40;241;36m‚ñà[38;2;43;255;39m‚ñà[38;2;42;255;38m‚ñà[38;2;41;248;37m‚ñà[38;2;26;157;23m‚ñà[38;2;7;40;6m‚ñà       [0m
     [38;2;4;25;4m‚ñà[38;2;22;132;20m‚ñà[38;2;40;236;36m‚ñà[38;2;44;255;39m‚ñà[38;2;43;255;38m‚ñà[38;2;42;252;38m‚ñà[38;2;28;167;25m‚ñà[38;2;8;47;7m‚ñà              [38;2;9;54;8m‚ñà[38;2;29;174;26m‚ñà[38;2;41;254;37m‚ñà[38;2;42;255;38m‚ñà[38;2;43;255;39m‚ñà[38;2;37;230;34m‚ñà[38;2;19;122;18m‚ñà      [0m
    [38;2;16;98;14m‚ñà[38;2;36;215;33m‚ñà[38;2;43;255;38m‚ñà[38;2;43;255;38m‚ñà[38;2;43;255;39m‚ñà[38;2;33;198;30m‚ñà[38;2;12;76;11m‚ñà                  [38;2;13;82;12m‚ñà[38;2;33;203;29m‚ñà[38;2;42;255;37m‚ñà[38;2;41;255;37m‚ñà[38;2;42;255;39m‚ñà[38;2;34;207;33m‚ñà[38;2;15;87;14m‚ñà    [0m
   [38;2;25;152;22m‚ñà[38;2;43;255;39m‚ñà[38;2;42;255;38m‚ñà[38;2;42;255;38m‚ñà[38;2;37;218;32m‚ñà[38;2;17;105;16m‚ñà                      [38;2;18;112;16m‚ñà[38;2;35;224;33m‚ñà[38;2;41;255;38m‚ñà[38;2;43;255;40m‚ñà[38;2;44;255;40m‚ñà[38;2;23;135;21m‚ñà   [0m
  [38;2;11;69;10m‚ñà[38;2;40;250;36m‚ñà[38;2;40;255;36m‚ñà[38;2;41;255;37m‚ñà[38;2;42;255;37m‚ñà[38;2;31;187;28m‚ñà[38;2;7;40;6m‚ñà                      [38;2;8;48;7m‚ñà[38;2;32;198;30m‚ñà[38;2;42;255;40m‚ñà[38;2;44;255;41m‚ñà[38;2;45;255;40m‚ñà[38;2;42;245;38m‚ñà[38;2;10;55;8m‚ñà  [0m
  [38;2;31;193;28m‚ñà[38;2;42;255;37m‚ñà[38;2;41;255;37m‚ñà[38;2;42;255;38m‚ñà[38;2;42;255;37m‚ñà[38;2;42;255;38m‚ñà[38;2;39;235;35m‚ñà[38;2;22;129;20m‚ñà[38;2;4;22;3m‚ñà                  [38;2;4;27;4m‚ñà[38;2;23;137;21m‚ñà[38;2;39;240;37m‚ñà[38;2;43;255;40m‚ñà[38;2;44;255;41m‚ñà[38;2;44;253;41m‚ñà[38;2;44;255;40m‚ñà[38;2;45;255;41m‚ñà[38;2;31;178;28m‚ñà  [0m
 [38;2;16;98;15m‚ñà[38;2;42;254;39m‚ñà[38;2;43;255;38m‚ñà[38;2;28;177;25m‚ñà[38;2;15;92;13m‚ñà[38;2;35;209;31m‚ñà[38;2;43;255;39m‚ñà[38;2;42;255;38m‚ñà[38;2;42;255;38m‚ñà[38;2;35;211;32m‚ñà[38;2;15;91;13m‚ñà                [38;2;16;101;15m‚ñà[38;2;35;218;33m‚ñà[38;2;42;255;40m‚ñà[38;2;43;255;40m‚ñà[38;2;43;255;40m‚ñà[38;2;32;191;31m‚ñà[38;2;13;75;12m‚ñà[38;2;33;193;31m‚ñà[38;2;43;255;39m‚ñà[38;2;43;252;39m‚ñà[38;2;15;83;13m‚ñà [0m
[38;2;4;24;4m‚ñà[38;2;37;216;35m‚ñà[38;2;43;255;40m‚ñà[38;2;40;242;37m‚ñà[38;2;8;51;7m‚ñà  [38;2;20;121;18m‚ñà[38;2;38;229;34m‚ñà[38;2;42;255;38m‚ñà[38;2;42;255;38m‚ñà[38;2;42;255;37m‚ñà[38;2;30;182;27m‚ñà[38;2;10;58;9m‚ñà            [38;2;11;67;10m‚ñà[38;2;31;191;28m‚ñà[38;2;41;255;39m‚ñà[38;2;42;255;39m‚ñà[38;2;44;255;40m‚ñà[38;2;37;219;34m‚ñà[38;2;18;102;16m‚ñà  [38;2;12;69;11m‚ñà[38;2;41;248;38m‚ñà[38;2;44;255;40m‚ñà[38;2;35;204;33m‚ñà [0m
[38;2;26;148;23m‚ñà[38;2;44;255;41m‚ñà[38;2;44;254;41m‚ñà[38;2;22;132;20m‚ñà    [38;2;6;38;5m‚ñà[38;2;25;153;23m‚ñà[38;2;40;246;37m‚ñà[38;2;43;255;39m‚ñà[38;2;43;255;39m‚ñà[38;2;40;244;36m‚ñà[38;2;24;146;21m‚ñà[38;2;5;32;4m‚ñà        [38;2;7;43;6m‚ñà[38;2;26;159;25m‚ñà[38;2;41;249;38m‚ñà[38;2;42;255;39m‚ñà[38;2;42;255;40m‚ñà[38;2;40;240;37m‚ñà[38;2;24;139;21m‚ñà[38;2;4;28;4m‚ñà    [38;2;24;149;24m‚ñà[38;2;42;255;42m‚ñà[38;2;43;255;41m‚ñà[38;2;23;129;19m‚ñà[0m
[38;2;44;255;40m‚ñà[38;2;44;255;40m‚ñà[38;2;42;252;39m‚ñà[38;2;18;111;17m‚ñà      [38;2;10;61;9m‚ñà[38;2;30;185;28m‚ñà[38;2;41;255;39m‚ñà[38;2;42;255;39m‚ñà[38;2;43;255;39m‚ñà[38;2;37;223;34m‚ñà[38;2;18;110;17m‚ñà     [38;2;4;24;4m‚ñà[38;2;21;128;20m‚ñà[38;2;38;233;36m‚ñà[38;2;42;255;41m‚ñà[38;2;42;255;39m‚ñà[38;2;42;254;40m‚ñà[38;2;29;176;27m‚ñà[38;2;9;53;8m‚ñà      [38;2;21;126;21m‚ñà[38;2;43;254;42m‚ñà[38;2;45;255;39m‚ñà[38;2;43;250;34m‚ñà[0m
[38;2;39;228;37m‚ñà[38;2;44;255;41m‚ñà[38;2;44;255;39m‚ñà[38;2;43;253;39m‚ñà[38;2;31;183;28m‚ñà[38;2;10;60;9m‚ñà      [38;2;15;92;14m‚ñà[38;2;35;212;33m‚ñà[38;2;43;255;39m‚ñà[38;2;42;255;39m‚ñà[38;2;41;255;39m‚ñà[38;2;32;198;30m‚ñà[38;2;13;75;12m‚ñà  [38;2;16;99;15m‚ñà[38;2;36;214;34m‚ñà[38;2;43;255;40m‚ñà[38;2;43;255;40m‚ñà[38;2;44;255;42m‚ñà[38;2;34;207;32m‚ñà[38;2;14;85;14m‚ñà      [38;2;11;69;11m‚ñà[38;2;33;192;30m‚ñà[38;2;43;254;42m‚ñà[38;2;43;255;39m‚ñà[38;2;45;255;39m‚ñà[38;2;33;214;31m‚ñà[0m
[38;2;6;34;6m‚ñà[38;2;25;145;23m‚ñà[38;2;42;244;38m‚ñà[38;2;43;255;38m‚ñà[38;2;44;255;39m‚ñà[38;2;43;245;37m‚ñà[38;2;26;150;24m‚ñà[38;2;6;34;5m‚ñà     [38;2;4;22;4m‚ñà[38;2;22;129;20m‚ñà[38;2;39;235;37m‚ñà[38;2;42;255;40m‚ñà[38;2;42;255;39m‚ñà[38;2;42;252;38m‚ñà[38;2;28;172;26m‚ñà[38;2;32;191;29m‚ñà[38;2;43;255;41m‚ñà[38;2;43;255;41m‚ñà[38;2;43;255;41m‚ñà[38;2;38;230;37m‚ñà[38;2;21;122;20m‚ñà      [38;2;8;42;7m‚ñà[38;2;28;160;24m‚ñà[38;2;40;250;37m‚ñà[38;2;43;255;40m‚ñà[38;2;43;255;41m‚ñà[38;2;43;239;36m‚ñà[38;2;24;136;21m‚ñà[38;2;4;27;4m‚ñà[0m
  [38;2;11;63;10m‚ñà[38;2;39;226;34m‚ñà[38;2;44;255;39m‚ñà[38;2;45;255;40m‚ñà[38;2;45;255;41m‚ñà[38;2;38;226;35m‚ñà[38;2;19;116;18m‚ñà      [38;2;8;45;7m‚ñà[38;2;28;166;26m‚ñà[38;2;41;251;38m‚ñà[38;2;42;255;39m‚ñà[38;2;43;255;40m‚ñà[38;2;43;255;40m‚ñà[38;2;43;255;39m‚ñà[38;2;42;248;39m‚ñà[38;2;27;159;25m‚ñà[38;2;7;40;6m‚ñà     [38;2;4;21;4m‚ñà[38;2;22;126;20m‚ñà[38;2;39;232;35m‚ñà[38;2;44;255;38m‚ñà[38;2;41;255;37m‚ñà[38;2;41;255;38m‚ñà[38;2;35;216;34m‚ñà[38;2;10;54;8m‚ñà  [0m
   [38;2;33;190;30m‚ñà[38;2;44;255;40m‚ñà[38;2;43;254;39m‚ñà[38;2;43;255;40m‚ñà[38;2;44;255;39m‚ñà[38;2;44;255;40m‚ñà[38;2;35;202;30m‚ñà[38;2;13;81;12m‚ñà      [38;2;14;86;14m‚ñà[38;2;41;244;38m‚ñà[38;2;42;255;40m‚ñà[38;2;42;255;40m‚ñà[38;2;39;238;36m‚ñà[38;2;12;73;11m‚ñà      [38;2;16;92;14m‚ñà[38;2;37;210;32m‚ñà[38;2;44;255;40m‚ñà[38;2;43;255;40m‚ñà[38;2;43;255;38m‚ñà[38;2;40;254;36m‚ñà[38;2;43;255;38m‚ñà[38;2;28;173;27m‚ñà   [0m
   [38;2;33;193;28m‚ñà[38;2;45;255;41m‚ñà[38;2;37;214;33m‚ñà[38;2;22;128;20m‚ñà[38;2;39;228;33m‚ñà[38;2;43;255;39m‚ñà[38;2;43;255;39m‚ñà[38;2;43;254;39m‚ñà[38;2;30;174;26m‚ñà[38;2;9;52;7m‚ñà    [38;2;16;96;15m‚ñà[38;2;43;251;39m‚ñà[38;2;42;255;39m‚ñà[38;2;42;255;40m‚ñà[38;2;42;247;39m‚ñà[38;2;13;79;12m‚ñà    [38;2;10;61;10m‚ñà[38;2;31;184;29m‚ñà[38;2;44;255;39m‚ñà[38;2;45;255;39m‚ñà[38;2;45;255;40m‚ñà[38;2;37;222;34m‚ñà[38;2;21;126;18m‚ñà[38;2;38;235;34m‚ñà[38;2;43;255;40m‚ñà[38;2;30;176;27m‚ñà   [0m
   [38;2;34;193;29m‚ñà[38;2;46;255;42m‚ñà[38;2;34;204;33m‚ñà [38;2;7;37;5m‚ñà[38;2;25;154;23m‚ñà[38;2;42;247;35m‚ñà[38;2;43;255;40m‚ñà[38;2;44;255;40m‚ñà[38;2;41;239;38m‚ñà[38;2;24;139;21m‚ñà[38;2;4;28;4m‚ñà [38;2;4;24;4m‚ñà[38;2;37;221;36m‚ñà[38;2;42;255;40m‚ñà[38;2;41;255;39m‚ñà[38;2;42;255;39m‚ñà[38;2;43;255;41m‚ñà[38;2;35;210;33m‚ñà  [38;2;6;34;5m‚ñà[38;2;25;150;24m‚ñà[38;2;41;245;39m‚ñà[38;2;44;255;41m‚ñà[38;2;44;255;40m‚ñà[38;2;42;245;37m‚ñà[38;2;25;148;23m‚ñà[38;2;5;31;5m‚ñà [38;2;36;224;32m‚ñà[38;2;43;255;41m‚ñà[38;2;31;176;28m‚ñà   [0m
   [38;2;35;193;33m‚ñà[38;2;47;255;43m‚ñà[38;2;34;206;34m‚ñà   [38;2;11;64;9m‚ñà[38;2;31;187;27m‚ñà[38;2;44;255;40m‚ñà[38;2;44;255;41m‚ñà[38;2;44;255;41m‚ñà[38;2;37;220;34m‚ñà[38;2;17;99;15m‚ñà[38;2;24;143;22m‚ñà[38;2;43;255;41m‚ñà[38;2;42;255;39m‚ñà[38;2;41;255;39m‚ñà[38;2;42;255;39m‚ñà[38;2;42;255;40m‚ñà[38;2;43;255;40m‚ñà[38;2;21;130;19m‚ñà[38;2;18;109;16m‚ñà[38;2;37;226;35m‚ñà[38;2;42;255;40m‚ñà[38;2;42;255;40m‚ñà[38;2;42;255;40m‚ñà[38;2;32;186;29m‚ñà[38;2;10;61;9m‚ñà   [38;2;36;221;34m‚ñà[38;2;45;255;42m‚ñà[38;2;30;176;27m‚ñà   [0m
   [38;2;33;193;31m‚ñà[38;2;43;255;42m‚ñà[38;2;34;206;33m‚ñà     [38;2;17;94;15m‚ñà[38;2;36;213;34m‚ñà[38;2;43;255;40m‚ñà[38;2;43;255;40m‚ñà[38;2;42;255;39m‚ñà[38;2;41;254;38m‚ñà[38;2;41;255;38m‚ñà[38;2;41;255;39m‚ñà[38;2;41;255;38m‚ñà[38;2;41;255;38m‚ñà[38;2;41;255;39m‚ñà[38;2;41;255;38m‚ñà[38;2;40;254;37m‚ñà[38;2;41;255;37m‚ñà[38;2;41;255;38m‚ñà[38;2;41;255;38m‚ñà[38;2;34;213;32m‚ñà[38;2;15;94;14m‚ñà     [38;2;37;221;34m‚ñà[38;2;45;255;42m‚ñà[38;2;30;176;28m‚ñà   [0m
   [38;2;31;193;29m‚ñà[38;2;42;255;41m‚ñà[38;2;34;206;31m‚ñà      [38;2;4;22;4m‚ñà[38;2;21;128;20m‚ñà[38;2;38;233;35m‚ñà[38;2;42;255;38m‚ñà[38;2;40;255;38m‚ñà[38;2;39;251;37m‚ñà[38;2;28;186;27m‚ñà[38;2;40;251;36m‚ñà[38;2;39;248;36m‚ñà[38;2;30;191;28m‚ñà[38;2;41;255;37m‚ñà[38;2;41;255;37m‚ñà[38;2;42;255;38m‚ñà[38;2;37;231;33m‚ñà[38;2;20;128;18m‚ñà[38;2;3;22;3m‚ñà      [38;2;37;221;33m‚ñà[38;2;44;255;40m‚ñà[38;2;29;176;28m‚ñà   [0m
   [38;2;33;193;29m‚ñà[38;2;45;255;40m‚ñà[38;2;35;206;31m‚ñà        [38;2;6;43;6m‚ñà[38;2;26;162;24m‚ñà[38;2;39;242;36m‚ñà[38;2;27;171;24m‚ñà[38;2;15;95;14m‚ñà[38;2;41;255;37m‚ñà[38;2;41;250;36m‚ñà[38;2;13;83;12m‚ñà[38;2;29;181;26m‚ñà[38;2;39;241;35m‚ñà[38;2;24;155;22m‚ñà[38;2;6;41;6m‚ñà        [38;2;37;221;33m‚ñà[38;2;44;255;39m‚ñà[38;2;29;176;27m‚ñà   [0m
   [38;2;34;193;30m‚ñà[38;2;46;255;41m‚ñà[38;2;35;206;32m‚ñà          [38;2;6;34;5m‚ñà [38;2;14;87;13m‚ñà[38;2;43;255;38m‚ñà[38;2;43;253;38m‚ñà[38;2;12;69;11m‚ñà [38;2;6;34;5m‚ñà          [38;2;37;221;33m‚ñà[38;2;44;255;39m‚ñà[38;2;29;176;26m‚ñà   [0m
   [38;2;33;193;33m‚ñà[38;2;45;255;43m‚ñà[38;2;37;205;33m‚ñà            [38;2;15;89;14m‚ñà[38;2;43;255;39m‚ñà[38;2;42;253;38m‚ñà[38;2;12;72;11m‚ñà            [38;2;36;221;32m‚ñà[38;2;44;255;39m‚ñà[38;2;29;176;26m‚ñà   [0m
   [38;2;34;194;31m‚ñà[38;2;45;255;41m‚ñà[38;2;37;210;32m‚ñà            [38;2;15;89;14m‚ñà[38;2;43;255;39m‚ñà[38;2;42;253;37m‚ñà[38;2;12;72;11m‚ñà     [38;2;7;43;6m‚ñà      [38;2;37;224;32m‚ñà[38;2;43;255;39m‚ñà[38;2;29;177;26m‚ñà   [0m
   [38;2;33;190;31m‚ñà[38;2;45;255;40m‚ñà[38;2;42;250;37m‚ñà[38;2;27;161;24m‚ñà[38;2;7;44;6m‚ñà          [38;2;15;89;13m‚ñà[38;2;43;255;38m‚ñà[38;2;42;253;37m‚ñà[38;2;12;72;11m‚ñà   [38;2;9;50;7m‚ñà[38;2;29;170;25m‚ñà[38;2;43;245;37m‚ñà[38;2;31;182;28m‚ñà   [38;2;8;52;7m‚ñà[38;2;29;174;26m‚ñà[38;2;42;252;37m‚ñà[38;2;43;255;39m‚ñà[38;2;28;171;26m‚ñà   [0m
   [38;2;23;129;21m‚ñà[38;2;44;254;39m‚ñà[38;2;45;255;39m‚ñà[38;2;45;255;40m‚ñà[38;2;40;234;36m‚ñà[38;2;21;129;20m‚ñà[38;2;4;23;4m‚ñà        [38;2;15;89;13m‚ñà[38;2;42;255;39m‚ñà[38;2;42;253;38m‚ñà[38;2;12;72;10m‚ñà [38;2;4;27;4m‚ñà[38;2;24;137;21m‚ñà[38;2;41;238;36m‚ñà[38;2;45;255;40m‚ñà[38;2;45;255;40m‚ñà[38;2;36;218;34m‚ñà [38;2;5;28;4m‚ñà[38;2;23;139;21m‚ñà[38;2;39;239;35m‚ñà[38;2;43;255;39m‚ñà[38;2;43;255;38m‚ñà[38;2;43;252;38m‚ñà[38;2;18;113;17m‚ñà   [0m
    [38;2;14;83;12m‚ñà[38;2;35;203;32m‚ñà[38;2;44;255;40m‚ñà[38;2;43;255;41m‚ñà[38;2;42;255;40m‚ñà[38;2;35;213;32m‚ñà[38;2;15;95;13m‚ñà       [38;2;15;89;13m‚ñà[38;2;43;255;38m‚ñà[38;2;42;253;38m‚ñà[38;2;12;67;10m‚ñà[38;2;11;68;10m‚ñà[38;2;37;218;33m‚ñà[38;2;44;255;39m‚ñà[38;2;44;255;39m‚ñà[38;2;43;255;39m‚ñà[38;2;31;186;28m‚ñà[38;2;11;68;10m‚ñà[38;2;17;102;16m‚ñà[38;2;37;220;34m‚ñà[38;2;42;255;38m‚ñà[38;2;42;255;39m‚ñà[38;2;42;255;38m‚ñà[38;2;33;197;30m‚ñà[38;2;12;74;11m‚ñà    [0m
      [38;2;20;117;19m‚ñà[38;2;39;227;37m‚ñà[38;2;42;255;41m‚ñà[38;2;41;255;38m‚ñà[38;2;41;255;37m‚ñà[38;2;31;187;27m‚ñà[38;2;11;63;9m‚ñà     [38;2;15;89;14m‚ñà[38;2;43;255;38m‚ñà[38;2;42;252;38m‚ñà[38;2;12;71;10m‚ñà[38;2;29;171;26m‚ñà[38;2;46;255;41m‚ñà[38;2;44;255;39m‚ñà[38;2;36;214;32m‚ñà[38;2;17;101;15m‚ñà[38;2;13;78;11m‚ñà[38;2;32;187;28m‚ñà[38;2;43;255;39m‚ñà[38;2;42;255;39m‚ñà[38;2;43;255;38m‚ñà[38;2;37;221;34m‚ñà[38;2;18;107;16m‚ñà      [0m
       [38;2;6;35;6m‚ñà[38;2;25;149;23m‚ñà[38;2;40;244;36m‚ñà[38;2;42;255;38m‚ñà[38;2;42;255;38m‚ñà[38;2;41;246;37m‚ñà[38;2;25;153;23m‚ñà[38;2;6;36;5m‚ñà   [38;2;15;89;14m‚ñà[38;2;43;255;39m‚ñà[38;2;41;253;38m‚ñà[38;2;11;67;10m‚ñà[38;2;14;80;12m‚ñà[38;2;34;191;30m‚ñà[38;2;21;126;19m‚ñà[38;2;11;66;10m‚ñà[38;2;26;154;23m‚ñà[38;2;42;249;37m‚ñà[38;2;43;255;39m‚ñà[38;2;43;255;39m‚ñà[38;2;39;240;35m‚ñà[38;2;23;140;21m‚ñà[38;2;4;29;4m‚ñà       [0m
         [38;2;10;59;9m‚ñà[38;2;30;182;27m‚ñà[38;2;41;255;36m‚ñà[38;2;42;255;38m‚ñà[38;2;42;255;38m‚ñà[38;2;38;228;34m‚ñà[38;2;19;118;17m‚ñà  [38;2;15;88;13m‚ñà[38;2;42;255;39m‚ñà[38;2;42;253;38m‚ñà[38;2;12;70;10m‚ñà [38;2;4;27;4m‚ñà[38;2;20;121;18m‚ñà[38;2;38;230;35m‚ñà[38;2;43;255;40m‚ñà[38;2;43;255;39m‚ñà[38;2;42;253;37m‚ñà[38;2;28;173;26m‚ñà[38;2;9;53;7m‚ñà         [0m
           [38;2;14;88;12m‚ñà[38;2;33;207;30m‚ñà[38;2;41;255;37m‚ñà[38;2;42;255;37m‚ñà[38;2;42;255;38m‚ñà[38;2;33;203;31m‚ñà[38;2;12;72;11m‚ñà[38;2;15;91;14m‚ñà[38;2;42;255;39m‚ñà[38;2;42;252;38m‚ñà[38;2;13;76;11m‚ñà[38;2;14;84;12m‚ñà[38;2;35;209;32m‚ñà[38;2;42;255;39m‚ñà[38;2;42;255;39m‚ñà[38;2;42;255;39m‚ñà[38;2;32;201;30m‚ñà[38;2;13;79;12m‚ñà           [0m
             [38;2;19;122;17m‚ñà[38;2;37;230;33m‚ñà[38;2;42;255;38m‚ñà[38;2;42;255;38m‚ñà[38;2;41;249;37m‚ñà[38;2;35;215;32m‚ñà[38;2;41;254;37m‚ñà[38;2;41;252;37m‚ñà[38;2;35;215;31m‚ñà[38;2;41;253;37m‚ñà[38;2;43;255;39m‚ñà[38;2;43;255;39m‚ñà[38;2;37;224;34m‚ñà[38;2;19;112;17m‚ñà             [0m
              [38;2;6;39;5m‚ñà[38;2;25;154;23m‚ñà[38;2;41;246;36m‚ñà[38;2;42;255;38m‚ñà[38;2;42;255;38m‚ñà[38;2;41;255;36m‚ñà[38;2;41;255;37m‚ñà[38;2;42;255;38m‚ñà[38;2;43;255;38m‚ñà[38;2;40;243;36m‚ñà[38;2;24;146;21m‚ñà[38;2;5;32;4m‚ñà              [0m
                [38;2;10;62;9m‚ñà[38;2;30;185;27m‚ñà[38;2;41;253;37m‚ñà[38;2;40;255;36m‚ñà[38;2;41;255;37m‚ñà[38;2;41;251;37m‚ñà[38;2;29;175;26m‚ñà[38;2;9;56;8m‚ñà                [0m
                  [38;2;16;99;14m‚ñà[38;2;36;229;33m‚ñà[38;2;35;224;33m‚ñà[38;2;14;89;13m‚ñà                  [0m"""

VERSION = "0.1.16.4"

Utils.cardinal_tools.set_console_title(f"FunPay Bot v{VERSION}")

if getattr(sys, 'frozen', False):
    os.chdir(os.path.dirname(sys.executable))
else:
    os.chdir(os.path.dirname(__file__))

folders = ["configs", "logs", "storage", "storage/cache", "storage/plugins", "storage/products", "plugins"]
for i in folders:
    if not os.path.exists(i):
        os.makedirs(i)

files = ["configs/auto_delivery.cfg", "configs/auto_response.cfg"]
for i in files:
    if not os.path.exists(i):
        with open(i, "w", encoding="utf-8") as f:
            ...

colorama.init()

logging.config.dictConfig(LOGGER_CONFIG)
logging.raiseExceptions = False
logger = logging.getLogger("main")
logger.debug("------------------------------------------------------------------")

print(f"{Style.RESET_ALL}{logo}")
print(f"{Fore.RED}{Style.BRIGHT}v{VERSION}{Style.RESET_ALL}\n")  # locale
print(f"{Fore.MAGENTA}{Style.BRIGHT}–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ {Fore.BLUE}{Style.BRIGHT}Woopertail, @sidor0912{Style.RESET_ALL}")
print(f"{Fore.MAGENTA}{Style.BRIGHT} * GitHub (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞): {Fore.BLUE}{Style.BRIGHT}github.com/sidor0912/FunPayCardinal{Style.RESET_ALL}")
print(f"{Fore.MAGENTA}{Style.BRIGHT} * GitHub (–Ω–∞—à –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π): {Fore.BLUE}{Style.BRIGHT}github.com/BOX-Hosting/FunPay{Style.RESET_ALL}")
print(f"{Fore.MAGENTA}{Style.BRIGHT} * –ù–æ–≤–æ—Å—Ç–∏ –æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö: {Fore.BLUE}{Style.BRIGHT}t.me/box_funpaybot")
print(f"{Fore.RED}{Style.BRIGHT}*–ú—ã –Ω–µ —Å—Ç—Ä–µ–º–∏–º—Å—è –Ω–∞–≤—Ä–µ–¥–∏—Ç—å —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ Funpay Cardinal –∏ –∏—Ö —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π. –ú—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª–∏ –∫–æ–¥ –¥–ª—è –Ω–∞—à–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞, —É–±—Ä–∞–≤ –ª–∏—à–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã. –ù–∞—à –∫–æ–¥ –±–µ–∑–æ–ø–∞—Å–µ–Ω –∏ –æ—Ç–∫—Ä—ã—Ç –Ω–∞ GitHub. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ. –ú—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º –±–æ—Ç–∞.")

if not os.path.exists("configs/_main.cfg"):
    first_setup()
    sys.exit()

if sys.platform == "linux" and os.getenv('FPC_IS_RUNNIG_AS_SERVICE', '0') == '1':
    import getpass

    pid = str(os.getpid())
    pidFile = open(f"/run/FunPayCardinal/{getpass.getuser()}/FunPayCardinal.pid", "w")
    pidFile.write(pid)
    pidFile.close()

    logger.info(f"$GREENPID —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω, PID –ø—Ä–æ—Ü–µ—Å—Å–∞: {pid}")  # locale

directory = 'plugins'
for filename in os.listdir(directory):
    if filename.endswith(".py"):  # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–∞–π–ª –∏–º–µ–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ .py
        filepath = os.path.join(directory, filename)  # –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
        with open(filepath, 'r', encoding='utf-8') as file:
            data = file.read()  # –ß–∏—Ç–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
        # –ó–∞–º–µ–Ω—è–µ–º –ø–æ–¥—Å—Ç—Ä–æ–∫—É
        if '"<i>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:</i> " + CREDITS' in data or " lot.stars " in data or " lot.seller " in data:
            data = data.replace('"<i>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:</i> " + CREDITS', '"sidor0912"') \
                .replace(" lot.stars ", " lot.seller.stars ") \
                .replace(" lot.seller ", " lot.seller.username ")
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ñ–∞–π–ª
            with open(filepath, 'w', encoding='utf-8') as file:
                file.write(data)

try:
    logger.info("$MAGENTA–ó–∞–≥—Ä—É–∂–∞—é –∫–æ–Ω—Ñ–∏–≥ _main.cfg...")  # locale
    MAIN_CFG = cfg_loader.load_main_config("configs/_main.cfg")
    localizer = Localizer(MAIN_CFG["Other"]["language"])
    _ = localizer.translate

    logger.info("$MAGENTA–ó–∞–≥—Ä—É–∂–∞—é –∫–æ–Ω—Ñ–∏–≥ auto_response.cfg...")  # locale
    AR_CFG = cfg_loader.load_auto_response_config("configs/auto_response.cfg")
    RAW_AR_CFG = cfg_loader.load_raw_auto_response_config("configs/auto_response.cfg")

    logger.info("$MAGENTA–ó–∞–≥—Ä—É–∂–∞—é –∫–æ–Ω—Ñ–∏–≥ auto_delivery.cfg...")  # locale
    AD_CFG = cfg_loader.load_auto_delivery_config("configs/auto_delivery.cfg")
except excs.ConfigParseError as e:
    logger.error(e)
    logger.error("–ó–∞–≤–µ—Ä—à–∞—é –ø—Ä–æ–≥—Ä–∞–º–º—É...")  # locale
    time.sleep(5)
    sys.exit()
except UnicodeDecodeError:
    logger.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–µ UTF-8. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥–∏—Ä–æ–≤–∫–∞ —Ñ–∞–π–ª–∞ = UTF-8, "
                 "–∞ —Ñ–æ—Ä–º–∞—Ç –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫ = LF.")  # locale
    logger.error("–ó–∞–≤–µ—Ä—à–∞—é –ø—Ä–æ–≥—Ä–∞–º–º—É...")  # locale
    time.sleep(5)
    sys.exit()
except:
    logger.critical("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞.")  # locale
    logger.warning("TRACEBACK", exc_info=True)
    logger.error("–ó–∞–≤–µ—Ä—à–∞—é –ø—Ä–æ–≥—Ä–∞–º–º—É...")  # locale
    time.sleep(5)
    sys.exit()

localizer = Localizer(MAIN_CFG["Other"]["language"])

try:
    Cardinal(MAIN_CFG, AD_CFG, AR_CFG, RAW_AR_CFG, VERSION).init().run()
except KeyboardInterrupt:
    logger.info("–ó–∞–≤–µ—Ä—à–∞—é –ø—Ä–æ–≥—Ä–∞–º–º—É...")  # locale
    sys.exit()
except:
    logger.critical("–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –ö–∞—Ä–¥–∏–Ω–∞–ª–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞.")  # locale
    logger.warning("TRACEBACK", exc_info=True)
    logger.critical("–ó–∞–≤–µ—Ä—à–∞—é –ø—Ä–æ–≥—Ä–∞–º–º—É...")  # locale
    time.sleep(5)
    sys.exit()
